index.html

<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kryptera & Dekryptera Text</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; padding: 20px; }
        textarea { width: 80%; height: 100px; margin: 10px 0; }
        input { margin: 10px; padding: 5px; }
        button { padding: 10px 20px; margin: 10px; cursor: pointer; }
        .output { font-weight: bold; margin-top: 10px; }
    </style>
</head>
<body>
    <h1>Kryptera & Dekryptera Text</h1>
    <input type="password" id="password" placeholder="Ange lösenord"><br>
    <textarea id="inputText" placeholder="Skriv ditt meddelande här..."></textarea><br>
    <button onclick="encryptText()">Kryptera</button>
    <button onclick="decryptText()">Dekryptera</button>
    <p class="output" id="outputText"></p>
    <script>
        let lastKey = [];
        const masterPassword = "hemligt123"; // Ändra detta till valfritt lösenord

        function scramble(text) {
            let indices = [...text].map((_, i) => i);
            indices.sort(() => Math.random() - 0.5);
            lastKey = indices;
            return indices.map(i => text[i]).join('');
        }

        function unscramble(text, key) {
            let original = new Array(text.length);
            key.forEach((originalIndex, scrambledIndex) => {
                original[originalIndex] = text[scrambledIndex];
            });
            return original.join('');
        }

        function encryptText() {
            let input = document.getElementById("inputText").value;
            let password = document.getElementById("password").value;
            if (password !== masterPassword) {
                alert("Fel lösenord!");
                return;
            }
            let scrambled = scramble(input);
            document.getElementById("outputText").innerText = `Krypterat: ${scrambled}\nNyckel: ${JSON.stringify(lastKey)}`;
        }

        function decryptText() {
            let input = document.getElementById("inputText").value;
            let password = document.getElementById("password").value;
            if (password !== masterPassword) {
                alert("Fel lösenord!");
                return;
            }
            try {
                let decrypted = unscramble(input, lastKey);
                document.getElementById("outputText").innerText = `Dekrypterat: ${decrypted}`;
            } catch (e) {
                document.getElementById("outputText").innerText = "Felaktig input eller nyckel.";
            }
        }
    </script>
</body>
</html>
